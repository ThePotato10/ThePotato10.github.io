(this.webpackJsonpfoodie=this.webpackJsonpfoodie||[]).push([[0],{20:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),i=n.n(a),s=n(22),o=n.n(s),c=(n(30),n(6)),d=n.n(c),u=n(9),l=n(10),h=n(11),p=n(8),j=n(13),b=n(12),m=(n(20),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={email:"",password:""},r.submitMethod=r.submitMethod.bind(Object(p.a)(r)),r}return Object(h.a)(n,[{key:"submitMethod",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("errorText").innerHTML="Waiting ... ",e.prev=1,e.next=4,fetch("https://dinner-server.herokuapp.com/Login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(this.state)});case 4:return t=e.sent,e.next=7,t.json();case 7:200===(n=e.sent).statusCode?(document.getElementById("errorText").innerHTML="",localStorage.setItem("token",n.token),window.location.href="/foodie/#"):n.token?document.getElementById("errorText").innerHTML=n.token:document.getElementById("errorText").innerHTML="Sorry, but the Foodie servers encountered an unknown error. Please send your request again, or contact the developer",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),document.getElementById("errorText").innerHTML="Sorry, but the Foodie servers encountered an unknown error. Please send your request again, or contact the developer";case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"login-wrapper",children:[Object(r.jsx)("h2",{children:"Login to Foodie"}),Object(r.jsx)("p",{id:"errorText"}),Object(r.jsxs)("label",{htmlFor:"username",className:"form-block",children:[Object(r.jsx)("span",{children:"Email"}),Object(r.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(r.jsxs)("label",{htmlFor:"password",className:"form-block",children:[Object(r.jsx)("span",{children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(r.jsx)("input",{id:"need-bottom-spacing",type:"submit",onClick:this.submitMethod,value:"Login"}),Object(r.jsx)("a",{className:"link link-small",href:"/foodie/#signup",children:"Sign up instead"})]})}}]),n}(i.a.Component)),f=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={email:"",unHashedPass:""},r.submitMethod=r.submitMethod.bind(Object(p.a)(r)),r}return Object(h.a)(n,[{key:"submitMethod",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("errorText").innerHTML="Waiting ... ",e.prev=1,e.next=4,fetch("https://dinner-server.herokuapp.com/Signup",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(this.state)});case 4:return t=e.sent,e.next=7,t.json();case 7:200===(n=e.sent).statusCode?(document.getElementById("errorText").innerHTML="",window.location.href="/foodie/#login"):n.info?document.getElementById("errorText").innerHTML=n.info:document.getElementById("errorText").innerHTML="Sorry, but the Foodie servers encountered an unknown error. Please send your request again, or contact the developer",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),document.getElementById("errorText").innerHTML="Sorry, but the Foodie servers encountered an unknown error. Please send your request again, or contact the developer";case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"login-wrapper",children:[Object(r.jsx)("h2",{children:"Signup for Foodie"}),Object(r.jsx)("p",{id:"errorText"}),Object(r.jsxs)("label",{htmlFor:"username",className:"form-block",children:[Object(r.jsx)("span",{children:"Email"}),Object(r.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(r.jsxs)("label",{htmlFor:"password",className:"form-block",children:[Object(r.jsx)("span",{children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.unHashedPass,onChange:function(t){return e.setState({unHashedPass:t.target.value})}})]}),Object(r.jsx)("input",{id:"need-bottom-spacing",type:"submit",onClick:this.submitMethod,value:"Signup"}),Object(r.jsx)("a",{className:"link link-small",href:"/signup",children:"Login instead"})]})}}]),n}(i.a.Component);n(32);var O=function(e){return Object(r.jsxs)("div",{className:"card-div",children:[Object(r.jsx)("h3",{children:"Dinner Tonight is ..."}),Object(r.jsxs)("h1",{children:[e.recipe,"!"]})]})},g=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={recipe:"",waiting:!1},r.getNewRecipe=r.getNewRecipe.bind(Object(p.a)(r)),r.capitalize=r.capitalize.bind(Object(p.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?this.getNewRecipe():window.location.href="/foodie/#login"}},{key:"capitalize",value:function(e){var t=e.split("");t[0]=t[0].toUpperCase();for(var n=1;n<t.length;n++)" "!==t[n]&&"-"!==t[n]||(t[n+1]=t[n+1].toUpperCase());return t.join("")}},{key:"getNewRecipe",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.waiting){e.next=11;break}return this.setState({waiting:!0}),e.next=4,fetch("https://dinner-server.herokuapp.com/DinnerSelection?token=".concat(localStorage.getItem("token")),{method:"GET",headers:{"Access-Control-Allow-Origin":"*"}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,this.setState({recipe:this.capitalize(n.food),waiting:!1}),document.querySelector(".card-div").classList.add("changed-recipe"),setTimeout((function(){document.querySelector(".card-div").classList.remove("changed-recipe")}),150);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"home-container",children:[Object(r.jsx)("div",{className:"main-wrapper",id:"cardContainer",children:Object(r.jsx)(O,{recipe:this.state.recipe})}),Object(r.jsxs)("div",{className:"button-wrapper",children:[Object(r.jsx)("button",{className:"big-button",onClick:this.getNewRecipe,children:"Get a Different Recipe"}),Object(r.jsx)("a",{href:"/foodie/#addrecipe",children:Object(r.jsx)("button",{className:"big-button",children:"Add More Recipes"})})]})]})}}]),n}(i.a.Component),x=(n(33),function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={newRecipe:""},r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")||(window.location.href="/foodie/#login")}},{key:"handleSubmit",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("waitingText").innerHTML="Waiting ...",e.next=3,fetch("https://dinner-server.herokuapp.com/AddRecipe",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({token:localStorage.getItem("token"),recipeName:this.state.newRecipe})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,document.getElementById("waitingText").innerHTML="",401===n.statusCode?window.location.href="/foodie/#login":(alert("Item added successfully"),window.location.href="/foodie/#");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"addrecipe-wrapper",children:[Object(r.jsx)("h2",{children:"Add a New Recipe to Your Profile"}),Object(r.jsx)("p",{id:"waitingText"}),Object(r.jsx)("label",{htmlFor:"newrecipe",children:Object(r.jsx)("input",{name:"newrecipe",id:"newrecipe",type:"text",value:this.state.newRecipe,onChange:function(t){return e.setState({newRecipe:t.target.value})}})}),Object(r.jsx)("input",{type:"submit",value:"Add the new recipe",onClick:this.handleSubmit})]})}}]),n}(i.a.Component)),v=n(23),w=n(2);n(34);var y=function(){return Object(r.jsx)(v.a,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("div",{className:"App-header",children:Object(r.jsxs)(w.c,{children:[Object(r.jsx)(w.a,{path:"/login",children:Object(r.jsx)(m,{})}),Object(r.jsx)(w.a,{path:"/signup",children:Object(r.jsx)(f,{})}),Object(r.jsx)(w.a,{path:"/addrecipe",children:Object(r.jsx)(x,{})}),Object(r.jsx)(w.a,{path:"/",children:Object(r.jsx)(g,{})})]})})})})};o.a.render(Object(r.jsx)(y,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8acf1ed7.chunk.js.map